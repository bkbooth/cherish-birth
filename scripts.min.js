"use strict";function onReady(){function e(e){e.preventDefault(),document.querySelector("nav .menu").classList.toggle("is-open")}function t(e){var t=e.target,n=["name","email","phoneNumber","message","_cc","_subject","_gotcha"];if(!i(t,n))return e.preventDefault();if(!s){e.preventDefault();var a=n.reduce(function(e,i){return t[i]&&(e[i]=t[i].value||void 0),e},{});fetch(t.action,{method:t.method,body:JSON.stringify(a),headers:new Headers({Accept:"application/json","Content-Type":"application/json"})}).then(function(e){return e.ok?Promise.resolve():Promise.reject()}).then(function(){return t.classList.add("is-submitted")}).catch(function(){t.classList.add("failed-submitting"),t.querySelector("button[type=submit]").removeAttribute("disabled")}).then(function(){return t.classList.remove("is-sending")}),t.classList.add("is-sending"),t.classList.remove("is-submitted","failed-submitting"),t.querySelector("button[type=submit]").setAttribute("disabled","")}}function i(e,t){var i=!0;return t.forEach(function(t){e[t]&&e[t].hasAttribute("required")&&!e[t].value&&(i=!1,e[t].parentNode.classList.add("is-invalid"))}),i}function n(e){var t=e.target,i=t.parentNode,n=t.value?"add":"remove";i.classList[n]("is-dirty"),t.value&&i.classList.contains("is-dirty")&&i.classList.remove("is-invalid");var s=r.email,a=s.parentNode;if("phoneNumber"===t.name){s[t.value?"removeAttribute":"setAttribute"]("required",""),!s.hasAttribute("required")&&a.classList.contains("is-invalid")&&a.classList.remove("is-invalid")}}var s=document.querySelector("html").classList.contains("lte-ie9"),a=document.querySelector("a.btn.active");a&&a.addEventListener("click",e);var r=document.querySelector("form#contact");r&&(r.addEventListener("submit",t),function(e){e.querySelectorAll("input[type=text], input[type=email], textarea").forEach(function(e){var t=e.parentNode;e.addEventListener("focus",function(e){return e.target.parentNode.classList.add("is-focused")}),e.addEventListener("blur",function(e){return e.target.parentNode.classList.remove("is-focused")}),e.addEventListener("input",n),e===document.activeElement&&t.classList.add("is-focused"),e.value&&t.classList.add("is-dirty")})}(r))}document.addEventListener("DOMContentLoaded",onReady);
//# sourceMappingURL=scripts.min.js.map
