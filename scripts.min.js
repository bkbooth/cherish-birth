"use strict";function onReady(){var s=document.querySelector("html").classList.contains("lte-ie9"),e=document.querySelector("a.btn.active");e&&e.addEventListener("click",function(e){e.preventDefault(),document.querySelector("nav .menu").classList.toggle("is-open")});var r=document.querySelector("form#contact");function i(e){var t=e.target,i=t.parentNode,n=t.value?"add":"remove";i.classList[n]("is-dirty"),t.value&&i.classList.contains("is-dirty")&&i.classList.remove("is-invalid");var s=r.email,a=s.parentNode;"phoneNumber"===t.name&&(s[t.value?"removeAttribute":"setAttribute"]("required",""),!s.hasAttribute("required")&&a.classList.contains("is-invalid")&&a.classList.remove("is-invalid"))}r&&(r.addEventListener("submit",function(e){var i=e.target,t=["name","email","phoneNumber","message","_cc","_subject","_gotcha"];if(!function(t,e){var i=!0;return e.forEach(function(e){t[e]&&t[e].hasAttribute("required")&&!t[e].value&&(i=!1,t[e].parentNode.classList.add("is-invalid"))}),i}(i,t))return e.preventDefault();{if(s)return;e.preventDefault()}var n=t.reduce(function(e,t){return i[t]&&(e[t]=i[t].value||void 0),e},{});fetch(i.action,{method:i.method,body:JSON.stringify(n),headers:new Headers({Accept:"application/json","Content-Type":"application/json"})}).then(function(e){return e.ok?Promise.resolve():Promise.reject()}).then(function(){return i.classList.add("is-submitted")}).catch(function(){i.classList.add("failed-submitting"),i.querySelector("button[type=submit]").removeAttribute("disabled")}).then(function(){return i.classList.remove("is-sending")}),i.classList.add("is-sending"),i.classList.remove("is-submitted","failed-submitting"),i.querySelector("button[type=submit]").setAttribute("disabled","")}),r.querySelectorAll("input[type=text], input[type=email], textarea").forEach(function(e){var t=e.parentNode;e.addEventListener("focus",function(e){return e.target.parentNode.classList.add("is-focused")}),e.addEventListener("blur",function(e){return e.target.parentNode.classList.remove("is-focused")}),e.addEventListener("input",i),e===document.activeElement&&t.classList.add("is-focused"),e.value&&t.classList.add("is-dirty")}))}document.addEventListener("DOMContentLoaded",onReady);
//# sourceMappingURL=scripts.min.js.map
